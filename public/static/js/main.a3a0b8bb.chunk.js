(this["webpackJsonpthrice-client"]=this["webpackJsonpthrice-client"]||[]).push([[0],{226:function(e,t,n){},316:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(37),i=n.n(a),s=(n(225),n(226),n(43)),j=n.n(s),l=n(57),o=n(12),d=n(360),u=n(353),b=n(356),h=n(368),O=n(372),x=n(373),p=n(371),m=n(195),f=n(370),g=n(38),v=n(2),y=Object(m.a)();var w=function(e){var t=e.onSignIn;return Object(v.jsx)(f.a,{theme:y,children:Object(v.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(u.a,{}),Object(v.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(v.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(v.jsxs)(O.a,{component:"form",onSubmit:t,noValidate:!0,sx:{mt:1},children:[Object(v.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(v.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:e.myError?e.myError:"",error:!!e.myError}),Object(v.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(v.jsx)(h.a,{container:!0,children:Object(v.jsx)(h.a,{item:!0,children:Object(v.jsx)(g.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]})]})})},S=n(28),C=n(45),I=n.n(C),k="https://thrice-final.herokuapp.com/",_=Object(m.a)();var P=function(e){var t=Object(S.f)(),n=function(){var e=Object(l.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={name:n.target.name.value,email:n.target.email.value,password:n.target.password.value},e.next=4,I.a.post("".concat(k,"/signup"),c,{withCredentials:!0});case 4:t("/signin");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(f.a,{theme:_,children:Object(v.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(u.a,{}),Object(v.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(v.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(v.jsxs)(O.a,{component:"form",onSubmit:n,noValidate:!0,sx:{mt:1},children:[Object(v.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoFocus:!0}),Object(v.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"}),Object(v.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(v.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(v.jsx)(h.a,{container:!0,children:Object(v.jsx)(h.a,{item:!0,children:Object(v.jsx)(g.b,{to:"/signin",children:"Already have an account? Sign In instead"})})})]})]})]})})},F=Object(c.createContext)();function T(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(v.jsx)(F.Provider,{value:{name:"Consuela",user:r,setUser:a},children:e.children})}var W=function(){return Object(v.jsx)("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem"},children:Object(v.jsx)("p",{children:" Happy Thrifting  "})})},A=n(78),D=n(31),E=n(357),$=n(63),z=n(99),N=n(363),M=n(369),U=N.a.Panel;var q=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{defaultActiveKey:["0"],children:Object(v.jsx)(U,{header:"categories",children:e.list&&e.list.map((function(t,n){return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(M.a,{onChange:function(){return function(t){var n=a.indexOf(t),c=Object(D.a)(a);-1===n?c.push(t):c.splice(n,1),i(c),e.handleFilters(c)}(t._id)},type:"checkbox",checked:-1!==a.indexOf(t._id)}),"\xa0\xa0",Object(v.jsx)("span",{children:t.name}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"]},n)}))},"1")})})},B=n(364),H=N.a.Panel;var L=function(e){var t=Object(c.useState)("0"),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{defaultActiveKey:["0"],children:Object(v.jsx)(H,{header:"price",children:Object(v.jsx)(B.a.Group,{onChange:function(t){a(t.target.value),e.handleFilters(t.target.value)},value:r,children:e.list&&e.list.map((function(e){return Object(v.jsx)(B.a,{value:"".concat(e._id),children:e.name},e._id)}))})},"1")})})},R=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $199",array:[0,199]},{_id:2,name:"$200 to $249",array:[200,249]},{_id:3,name:"$250 to $279",array:[250,279]},{_id:4,name:"$280 to $299",array:[280,299]},{_id:5,name:"More than $300",array:[300,15e5]}],J=[{_id:1,name:"Women"},{_id:2,name:"Men"},{_id:3,name:"Children"}],K=n(362),V=K.a.Search;var G=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(v.jsx)("div",{children:Object(v.jsx)(V,{value:r,onChange:function(t){a(t.target.value),e.refreshFunction(t.target.value)},placeholder:"Search By Typing..."})})},X=E.a.Meta;var Q=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),i=Object(o.a)(a,2),s=i[0],j=i[1],l=Object(c.useState)(8),d=Object(o.a)(l,2),u=d[0],b=(d[1],Object(c.useState)()),h=Object(o.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(""),m=Object(o.a)(p,2),f=m[0],y=m[1],w=Object(c.useState)({categories:[],price:[]}),S=Object(o.a)(w,2),C=S[0],_=S[1];Object(c.useEffect)((function(){P({skip:s,limit:u})}),[]);var P=function(e){I.a.post("".concat(k,"/product/getProducts"),e,{withCredentials:!0}).then((function(t){t.data.success?(e.loadMore?r([].concat(Object(D.a)(n),Object(D.a)(t.data.products))):r(t.data.products),x(t.data.postSize)):alert("Failed to get product data")}))},F=n.map((function(e,t){return Object(v.jsx)($.a,{lg:6,md:8,xs:24,children:Object(v.jsx)(E.a,{hoverable:!0,cover:Object(v.jsx)(g.b,{to:"/product/".concat(e._id),images:e.images,children:"Image"}),children:Object(v.jsx)(X,{title:e.title,description:"$".concat(e.price)})})})})),T=function(e,t){var n=Object(A.a)({},C);if(n[t]=e,"price"===t){var c=function(e){var t=R,n=[];for(var c in t)t[c]._id===parseInt(e,10)&&(n=t[c].array);return console.log("array",n),n}(e);n[t]=c}console.log(n),function(e){P({skip:0,limit:u,filters:e}),j(0)}(n),_(n)};return Object(v.jsxs)("div",{style:{width:"75%",margin:"3rem auto"},children:[Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)("h2",{children:"  Let's Thrift!    "})}),Object(v.jsxs)(z.a,{gutter:[16,16],children:[Object(v.jsx)($.a,{lg:12,xs:24,children:Object(v.jsx)(q,{list:J,handleFilters:function(e){return T(e,"categories")}})}),Object(v.jsx)($.a,{lg:12,xs:24,children:Object(v.jsx)(L,{list:R,handleFilters:function(e){return T(e,"price")}})})]}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"1rem auto"},children:Object(v.jsx)(G,{refreshFunction:function(e){var t={skip:0,limit:u,filters:C,searchTerm:e};j(0),y(e),P(t)}})}),0===n.length?Object(v.jsx)("div",{style:{display:"flex",height:"300px",justifyContent:"center",alignItems:"center"},children:Object(v.jsx)("h2",{children:"No post yet..."})}):Object(v.jsx)("div",{children:Object(v.jsx)(z.a,{gutter:[16,16],children:F})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),O>=u&&Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(v.jsx)("button",{onClick:function(){var e=s+u;P({skip:e,limit:u,loadMore:!0,filters:C,searchTerm:f}),j(e)},children:"Load More"})})]})},Y=n(361);var Z=function(e){return Object(v.jsx)(Y.a,{mode:e.mode,children:Object(v.jsx)(Y.a.Item,{children:Object(v.jsx)(g.b,{to:"/",children:"Home"})})})},ee=n(365),te=n(375),ne=n(374);var ce=function(e){var t=Object(S.f)(),n=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(k,"/logout")).then((function(e){200===e.status?t("/signin"):alert("Log Out Failed")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log("in right menu",e.user),e.user?Object(v.jsxs)(Y.a,{mode:e.mode,children:[Object(v.jsx)(Y.a.Item,{children:Object(v.jsx)(g.b,{to:"/history",children:"History"})},"history"),Object(v.jsx)(Y.a.Item,{children:Object(v.jsx)(g.b,{to:"/product/upload",children:Object(v.jsx)(ne.a,{})})},"upload"),Object(v.jsx)(Y.a.Item,{style:{paddingBottom:3},children:Object(v.jsx)(ee.a,{count:5,children:Object(v.jsx)(g.b,{to:"/user/cart",style:{marginRight:-22,color:"#667777"},children:Object(v.jsx)(te.a,{style:{fontSize:30,marginBottom:3}})})})},"cart"),Object(v.jsx)(Y.a.Item,{children:Object(v.jsx)(g.b,{to:"/signin",onClick:n,children:"Logout"})},"logout")]}):Object(v.jsxs)(Y.a,{mode:e.mode,children:[Object(v.jsx)(Y.a.Item,{children:Object(v.jsx)(g.b,{to:"/signin",children:"Signin"})},"signin"),Object(v.jsx)(Y.a.Item,{children:Object(v.jsx)(g.b,{to:"/signup",children:"Signup"})},"signup")]})},re=n(196),ae=(n(316),n(376));var ie=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=(n[0],n[1]),a=e.user;return Object(v.jsxs)("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"},children:[Object(v.jsx)("div",{className:"menu__logo",children:Object(v.jsx)("div",{className:"menu__logo a",children:Object(v.jsx)(g.b,{to:"/",children:"Thrice"})})}),Object(v.jsxs)("div",{className:"menu__container",children:[Object(v.jsx)("div",{className:"menu_left",children:Object(v.jsx)(Z,{mode:"horizontal"})}),Object(v.jsx)("div",{className:"menu_right",children:Object(v.jsx)(ce,{mode:"horizontal",user:a})}),Object(v.jsx)(re.a,{className:"menu__mobile-button",type:"primary",onClick:function(){r(!0)},children:Object(v.jsx)(ae.a,{})})]})]})},se=n(358),je=n(359),le=n(197),oe=n(200);var de=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(l.a)(j.a.mark((function e(t){var c,a,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("imageUrl",t.target.myImage.files[0]),e.next=4,I.a.post("".concat(k,"/upload"),c);case 4:return a=e.sent,console.log(a.data),i={writer:t.target._id,title:t.target.title,description:t.target.description,images:a.data.images,categories:t.target.categories,price:t.target.price},e.next=9,I.a.post("".concat(k,"/create"),i,{withCredentials:!0});case 9:s=e.sent,r([].concat(Object(D.a)(n),[s.data.image]));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(le.a,{onDrop:a,multiple:!1,maxSize:8e8,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(v.jsxs)("div",Object(A.a)(Object(A.a)({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),{},{children:[console.log("getRootProps",Object(A.a)({},t())),console.log("getInputProps",Object(A.a)({},n())),Object(v.jsx)("input",Object(A.a)({},n())),Object(v.jsx)(oe.a,{style:{fontSize:"3rem"}})]}))}}),Object(v.jsx)("div",{style:{display:"flex",width:"350px",height:"240px",overflowX:"scroll"},children:n.map((function(e,t){return Object(v.jsx)("div",{onClick:function(){return function(e){var t=n.indexOf(e),c=Object(D.a)(n);c.splice(t,1),r(c)}(e)},children:Object(v.jsx)("img",{style:{minWidth:"300px",width:"300px",height:"240px"},src:"http://localhost:5005/".concat(e),alt:"productImg-".concat(t)})})}))})]})},ue=se.a.Title,be=K.a.TextArea,he=[{key:1,value:"Women"},{key:2,value:"Men"},{key:3,value:"Children"}];var Oe=function(e){var t=Object(S.f)(),n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(""),d=Object(o.a)(s,2),u=d[0],b=d[1],h=Object(c.useState)(0),O=Object(o.a)(h,2),x=O[0],p=O[1],m=Object(c.useState)(1),f=Object(o.a)(m,2),g=f[0],y=f[1],w=Object(c.useState)([]),C=Object(o.a)(w,2),k=C[0],_=C[1],P=function(){var e=Object(l.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a&&u&&x&&g&&k){e.next=3;break}return e.abrupt("return",alert("fill all the fields first!"));case 3:return c={title:a,description:u,price:x,images:k,categories:g},e.next=6,I.a.post("{API_URL}/product/create",c,{withCredentials:!0});case 6:e.sent.success.data&&t("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:[Object(v.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Object(v.jsx)(ue,{level:2,children:" Upload Product"})}),Object(v.jsxs)(je.a,{onSubmit:P,children:[Object(v.jsx)(de,{refreshFunction:function(e){_(e)}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Title"}),Object(v.jsx)(K.a,{onChange:function(e){i(e.target.value)},value:a}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Description"}),Object(v.jsx)(be,{onChange:function(e){b(e.target.value)},value:u}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Price($)"}),Object(v.jsx)(K.a,{onChange:function(e){p(e.target.value)},value:x,type:"number"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("select",{onChange:function(e){y(e.target.value)},value:g,children:he.map((function(e){return Object(v.jsxs)("option",{value:e.key,children:[e.value," "]},e.key)}))}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(re.a,{onClick:P,children:"Submit"})]})]})},xe=n(194),pe=n.n(xe);var me=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){if(e.detail.images&&e.detail.images.length>0){var t=[];e.detail.images&&e.detail.images.map((function(e){t.push({original:"http://localhost:5005/".concat(e),thumbnail:"http://localhost:5005/".concat(e)})})),a(t)}}),[e.detail]),Object(v.jsx)("div",{children:Object(v.jsx)(pe.a,{items:r})})},fe=n(366);var ge=function(e){var t=Object(c.useState)({}),n=Object(o.a)(t,2),r=n[0];return n[1],Object(v.jsxs)("div",{children:[Object(v.jsxs)(fe.b,{title:"Product Info",children:[Object(v.jsxs)(fe.b.Item,{label:"Price",children:[" ",r.price]}),Object(v.jsxs)(fe.b.Item,{label:"Description",children:[" ",r.description]})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(v.jsx)(re.a,{size:"large",shape:"round",type:"danger",children:"Add to Cart"})})]})};var ve=function(e){Object(c.useContext)(F).user;var t=S.g.productId,n=Object(c.useState)([]),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(k,"/product/").concat(t),{withCredentials:!0});case 2:n=e.sent,i(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(v.jsxs)("div",{className:"postPage",style:{width:"100%",padding:"3rem 4rem"},children:[Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(v.jsx)("h1",{children:"title"})}),Object(v.jsx)("br",{}),Object(v.jsxs)(z.a,{gutter:[16,16],children:[Object(v.jsx)($.a,{lg:12,xs:24,children:Object(v.jsx)(me,{detail:a})}),Object(v.jsx)($.a,{lg:12,xs:24,children:Object(v.jsx)(ge,{detail:a})})]})]})};var ye=function(){return Object(v.jsx)("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem"},children:Object(v.jsx)("h1",{children:"Stripe Coming Soon"})})};var we=function(){var e=Object(c.useContext)(F).user;return Object(v.jsxs)("div",{style:{width:"80%",margin:"3rem auto"},children:[Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)("h1",{children:"History"})}),Object(v.jsx)("br",{}),Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Payment Id"}),Object(v.jsx)("th",{children:"Price"})]})}),Object(v.jsx)("tbody",{children:e.history.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.price})]},e.id)}))})]})]})};var Se=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useContext)(F),i=a.user,s=a.setUser,d=Object(c.useState)(null),u=Object(o.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(!0),x=Object(o.a)(O,2),p=(x[0],x[1]),m=Object(S.f)();Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(k,"/product"),{withCredentials:!0});case 2:return t=e.sent,r(t.data),e.prev=4,e.next=7,I.a.get("".concat(k,"/user"),{withCredentials:!0});case 7:n=e.sent,p(!1),s(n.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),p(!1);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var f=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t),e.prev=2,n={email:t.target.email.value,password:t.target.password.value},console.log(n),e.next=7,I.a.post("".concat(k,"/signin"),n,{withCredentials:!0});case 7:c=e.sent,console.log(c),s(c.data),m("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),h("why error");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){m("/")}),[n,i]),console.log(i),Object(v.jsxs)("div",{children:[Object(v.jsx)(ie,{user:i}),Object(v.jsx)("div",{style:{paddingTop:"75px",minHeight:"calc(100vh - 80px)"},children:Object(v.jsxs)(S.c,{children:[Object(v.jsx)(S.a,{path:"/",element:Object(v.jsx)(Q,{products:n})}),Object(v.jsx)(S.a,{path:"/signin",element:Object(v.jsx)(w,{myError:b,onSignIn:f})}),Object(v.jsx)(S.a,{path:"/signup",element:Object(v.jsx)(P,{})}),Object(v.jsx)(S.a,{path:"/product/upload",element:Object(v.jsx)(Oe,{})}),Object(v.jsx)(S.a,{path:"/product/:productId",element:Object(v.jsx)(ve,{})}),Object(v.jsx)(S.a,{path:"/user/cart",element:Object(v.jsx)(ye,{})}),Object(v.jsx)(S.a,{path:"/history",element:Object(v.jsx)(we,{})})]})}),Object(v.jsx)(W,{})]})};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(g.a,{children:Object(v.jsx)(T,{children:Object(v.jsx)(Se,{})})})}),document.getElementById("root"))}},[[318,1,2]]]);
//# sourceMappingURL=main.a3a0b8bb.chunk.js.map